<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" ">
<title>Pull-Request Merge | PMD Source Code Analyzer</title>
<link rel="stylesheet" href="css/syntax.css">


<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<link rel="stylesheet" href="css/lavish-bootstrap.css">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
<link rel="icon" href="images/favicon.ico" type="image/x-icon">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://pmd.sourceforge.net/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> PMD Source Code Analyzer Project</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->
                
                
                
                <li><a href="https://github.com/pmd/pmd/releases/latest" target="_blank">Download</a></li>
                
                
                
                <li><a href="https://github.com/pmd/pmd" target="_blank">Fork us on github</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Pull-Request Merge">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
    <div class="col-lg-12">&nbsp;</div>
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                








<ul id="mysidebar" class="nav">
    <li class="sidebarTitle">PMD 6.0.1</li>
    
    
    
        
    
    <li>
        
        <a href="#">User Documentation</a>
        
        <ul>
            
            

            

                
                <li><a href="index.html">Introduction</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_release_notes.html">Release Notes</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_userdocs_getting_started.html">Getting Started</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_userdocs_understanding_rulesets.html">Understanding Rulesets</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_userdocs_best_practices.html">Best Pratices</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_userdocs_cpd.html">Copy-Paste Detection</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_userdocs_suppressing.html">Suppressing</a></li>
                

            

            
            
            

            

                
                
                <li class="subfolders">
                    <a href="#">Tools / Integrations</a>
                    <ul>
                        
                        
                        
                        <li><a href="pmd_userdocs_tools_maven.html">Maven PMD Plugin</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_userdocs_tools_ant.html">Ant</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_userdocs_tools.html">Other Tools / Integrations</a></li>
                        
                        
                        
                    </ul>
                </li>
                
                

            

            
            
            

            

                
                <li><a href="pmd_userdocs_faq.html">FAQ</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_userdocs_help.html">Getting Help</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_userdocs_news.html">PMD in the press</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_userdocs_products.html">Products/books related to PMD</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_userdocs_similarprojects.html">Similar Projects</a></li>
                

            

            
            
            

            

                
                <li><a href="license.html">License</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_userdocs_credits.html">Credits</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_userdocs_meaning.html">What does 'PMD' mean?</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_release_notes_old.html">Old Release Notes</a></li>
                

            

            
            
        </ul>
     </li>
       
        
    
    <li>
        
        <a href="#">Rule Reference</a>
        
        <ul>
            
            

            

                
                
                <li class="subfolders">
                    <a href="#">Apex Rules</a>
                    <ul>
                        
                        
                        
                        <li><a href="pmd_rules_apex.html">Index</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_apex_bestpractices.html">Best Practices</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_apex_codestyle.html">Code Style</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_apex_design.html">Design</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_apex_errorprone.html">Error Prone</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_apex_performance.html">Performance</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_apex_security.html">Security</a></li>
                        
                        
                        
                    </ul>
                </li>
                
                

            

            
            
            

            

                
                
                <li class="subfolders">
                    <a href="#">Ecmascript Rules</a>
                    <ul>
                        
                        
                        
                        <li><a href="pmd_rules_ecmascript.html">Index</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_ecmascript_bestpractices.html">Best Practices</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_ecmascript_codestyle.html">Code Style</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_ecmascript_errorprone.html">Error Prone</a></li>
                        
                        
                        
                    </ul>
                </li>
                
                

            

            
            
            

            

                
                
                <li class="subfolders">
                    <a href="#">Java Rules</a>
                    <ul>
                        
                        
                        
                        <li><a href="pmd_rules_java.html">Index</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_java_bestpractices.html">Best Practices</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_java_codestyle.html">Code Style</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_java_design.html">Design</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_java_documentation.html">Documentation</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_java_errorprone.html">Error Prone</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_java_multithreading.html">Multithreading</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_java_performance.html">Performance</a></li>
                        
                        
                        
                    </ul>
                </li>
                
                

            

            
            
            

            

                
                
                <li class="subfolders">
                    <a href="#">Java Server Pages Rules</a>
                    <ul>
                        
                        
                        
                        <li><a href="pmd_rules_jsp.html">Index</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_jsp_bestpractices.html">Best Practices</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_jsp_codestyle.html">Code Style</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_jsp_design.html">Design</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_jsp_errorprone.html">Error Prone</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_jsp_security.html">Security</a></li>
                        
                        
                        
                    </ul>
                </li>
                
                

            

            
            
            

            

                
                
                <li class="subfolders">
                    <a href="#">Maven POM Rules</a>
                    <ul>
                        
                        
                        
                        <li><a href="pmd_rules_pom.html">Index</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_pom_errorprone.html">Error Prone</a></li>
                        
                        
                        
                    </ul>
                </li>
                
                

            

            
            
            

            

                
                
                <li class="subfolders">
                    <a href="#">PLSQL Rules</a>
                    <ul>
                        
                        
                        
                        <li><a href="pmd_rules_plsql.html">Index</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_plsql_bestpractices.html">Best Practices</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_plsql_codestyle.html">Code Style</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_plsql_design.html">Design</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_plsql_errorprone.html">Error Prone</a></li>
                        
                        
                        
                    </ul>
                </li>
                
                

            

            
            
            

            

                
                
                <li class="subfolders">
                    <a href="#">Salesforce VisualForce Rules</a>
                    <ul>
                        
                        
                        
                        <li><a href="pmd_rules_vf.html">Index</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_vf_security.html">Security</a></li>
                        
                        
                        
                    </ul>
                </li>
                
                

            

            
            
            

            

                
                
                <li class="subfolders">
                    <a href="#">VM Rules</a>
                    <ul>
                        
                        
                        
                        <li><a href="pmd_rules_vm.html">Index</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_vm_bestpractices.html">Best Practices</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_vm_design.html">Design</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_vm_errorprone.html">Error Prone</a></li>
                        
                        
                        
                    </ul>
                </li>
                
                

            

            
            
            

            

                
                
                <li class="subfolders">
                    <a href="#">XML Rules</a>
                    <ul>
                        
                        
                        
                        <li><a href="pmd_rules_xml.html">Index</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_xml_errorprone.html">Error Prone</a></li>
                        
                        
                        
                    </ul>
                </li>
                
                

            

            
            
            

            

                
                
                <li class="subfolders">
                    <a href="#">XSL Rules</a>
                    <ul>
                        
                        
                        
                        <li><a href="pmd_rules_xsl.html">Index</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_xsl_codestyle.html">Code Style</a></li>
                        
                        
                        
                        
                        
                        <li><a href="pmd_rules_xsl_performance.html">Performance</a></li>
                        
                        
                        
                    </ul>
                </li>
                
                

            

            
            
        </ul>
     </li>
       
        
    
    <li>
        
        <a href="#">Language Specific Documentation</a>
        
        <ul>
            
            

            

                
                <li><a href="pmd_languages_jsp.html">JSP Support</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_java_metrics_index.html">Java code metrics</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_apex_metrics_index.html">Apex code metrics</a></li>
                

            

            
            
        </ul>
     </li>
       
        
    
    <li>
        
        <a href="#">Developer Documentation</a>
        
        <ul>
            
            

            

                
                <li><a href="pmd_devdocs_development.html">Developer Resources</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_devdocs_writing_documentation.html">Writing Documentation</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_devdocs_codestyle.html">Code Style</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_devdocs_setting_up_ide.html">Setting up your IDE</a></li>
                

            

            
            
            

            

                
                <li class="active"><a href="pmd_devdocs_pull_requests.html">Pull Requests</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_devdocs_building.html">Building PMD from source</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_devdocs_testing.html">Testing / Test Framework</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_devdocs_releasing.html">Releasing</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_devdocs_architecture.html">Architecture</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_devdocs_roadmap.html">Roadmap</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_devdocs_how_pmd_works.html">How PMD Works</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_devdocs_writing_pmd_rules.html">Writing a Rule</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_devdocs_writing_xpath_rules.html">Writing XPath Rules</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_devdocs_metrics_howto.html">Using code metrics in custom rules</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_devdocs_making_rulesets.html">Making Rulesets</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_devdocs_rule_guidelines.html">Rule Guidelines</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_devdocs_working_with_properties.html">Working with properties</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_devdocs_adding_new_language.html">Adding a New Language</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_devdocs_adding_new_cpd_language.html">Adding a New CPD Language</a></li>
                

            

            
            
            

            

                
                <li><a href="pmd_devdocs_adding_metrics_support_to_language.html">Adding metrics support to a language</a></li>
                

            

            
            
        </ul>
     </li>
       
        
        
        <!-- if you aren't using the accordion, uncomment this block:
           <p class="external">
               <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
           </p>
           -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">Pull-Request Merge</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    

        
        

    <a target="_blank" href="https://github.com/pmd/pmd/blob/master/docs/pages/pmd/devdocs/pull_requests.md" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit me</a>

    

  <h2 id="contributing-via-pull-requests">Contributing via pull requests</h2>

<p>First off, thanks for taking the time to contribute!</p>

<ul>
  <li>
    <p>Please create your pull request against the <code class="highlighter-rouge">master</code> branch. We will rebase/merge it to the maintenance
branches, if necessary. Just fork the <a href="https://github.com/pmd/pmd/">pmd repo</a> and
create a <a href="https://github.com/pmd/pmd/pulls">pull request</a>.</p>
  </li>
  <li>
    <p>We are using <a href="http://checkstyle.sourceforge.net/">checkstyle</a> to enforce a common code style.
The check is integrated into the default build - so, make sure, you can <a href="pmd_devdocs_building.html">build PMD</a>
without errors.</p>

    <p>See <a href="pmd_devdocs_codestyle.html">code style</a> for more info.</p>
  </li>
</ul>

<h2 id="merging-pull-requests">Merging pull requests</h2>

<h3 id="example-1-merging-pr-123-into-master">Example 1: Merging PR #123 into master</h3>

<ol>
  <li>
    <p>Review the pull request</p>

    <ul>
      <li>Compilation and checkstyle is verified already by travis build: PRs are automatically checked.</li>
      <li>If it is a bug fix, a new unit test, that reproduces the bug, is mandatory. Without such a test, we might accidentally reintroduce the bug again.</li>
      <li>Add the appropriate labels on the github issue: If the PR fixes a bug, the label “a:bug” should be used.</li>
      <li>Make sure, the PR is added to the appropriate milestone. If the PR fixes a bug, make sure, that the bug issue is added to the same milestone.</li>
    </ul>
  </li>
  <li>
    <p>The actual merge commands:</p>

    <p>We assume, that the PR has been created from the master branch. If this is not the case,
then we’ll either need to rebase or ask for rebasing before merging.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout master &amp;&amp; git pull origin master                    # make sure, you have the latest code
git fetch origin pull/123/head:pr-123 &amp;&amp; git checkout pr-123     # creates a new temporary branch
</code></pre></div>    </div>
  </li>
  <li>
    <p>Update the <a href="https://github.com/pmd/pmd/blob/master/docs/pages/release_notes.md">release notes</a>:</p>

    <ul>
      <li>Are there any API changes, that need to be documented? (Section “API Changes”)</li>
      <li>Are there any significant changes to existing rules, that should be mentioned?
(Section “Modified Rules” / “New Rules” / “Removed Rules”)</li>
      <li>If the PR fixes a bug, make sure, it is listed under the section “Fixed Issues”.</li>
      <li>In any case, add the PR to the section “External Contributions”</li>
      <li>
        <p>Commit these changes with the message:</p>

        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add docs/pages/release_notes.md
git commit -m "Update release notes, refs #123"
</code></pre></div>        </div>
      </li>
    </ul>

    <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> If the PR fixes a bug, verify, that we have a commit with the message
“Fixes #issue-number”. If this doesn’t exist, you can add it to the commit message when
updating the release notes: <code class="highlighter-rouge">Update release notes, refs #123, fixes #issue-number</code>.
This will automatically close the github issue.</div>
  </li>
  <li>
    <p>Now merge the pull request into the master branch:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout master
git merge --no-ff pr-123
</code></pre></div>    </div>

    <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> If there are merge conflicts, you’ll need to deal with them here.</div>
  </li>
  <li>
    <p>Run the complete build: <code class="highlighter-rouge">./mvnw clean verify</code></p>

    <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> This will execute all the unit tests and the checkstyle tests. It ensures,
that the complete project can be build and is functioning on top of the current master.</div>
  </li>
  <li>
    <p>If the build was successful, you are ready to push:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push origin master
</code></pre></div>    </div>

    <p>Since the temporary branch is now not needed anymore, you can delete it:
<code class="highlighter-rouge">git branch -d pr-123</code>.</p>
  </li>
</ol>

<h3 id="example-2-merging-pr-124-into-a-maintenance-branch">Example 2: Merging PR #124 into a maintenance branch</h3>

<p>We ask, to create every pull request against master, to make it easier to contribute.
But if a pull request is intended to fix a bug in an older version of PMD, then we need to backport this pull request.</p>

<h4 id="creating-a-maintenance-branch">Creating a maintenance branch</h4>

<p>For older versions, we use maintenance branches, like <code class="highlighter-rouge">pmd/5.8.x</code>. If there is no maintenance branch for
the specific version, then we’ll have to create it first. Let’s say, we want a maintenance branch for
PMD version 5.8.0, so that we can create a bugfix release 5.8.1.</p>

<ol>
  <li>
    <p>We’ll simply create a new branch off of the release tag:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git branch pmd/5.8.x pmd_releases/5.8.0 &amp;&amp; git checkout pmd/5.8.x
</code></pre></div>    </div>
  </li>
  <li>
    <p>Now we’ll need to adjust the version, since it’s currently the same as the release version.
We’ll change the version to the next patch version: “5.8.1-SNAPSHOT”.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./mvnw versions:set -DnewVersion=5.8.1-SNAPSHOT
git add pom.xml \*/pom.xml
git commit -m "prepare next version 5.8.1-SNAPSHOT"
</code></pre></div>    </div>
  </li>
</ol>

<h4 id="merging-the-pr">Merging the PR</h4>

<ol>
  <li>
    <p>As above: Review the PR</p>
  </li>
  <li>
    <p>Fetch the PR and rebase it onto the maintenance branch:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git fetch origin pull/124/head:pr-124 &amp;&amp; git checkout pr-124     # creates a new temporary branch
git rebase master --onto pmd/5.8.x
./mvnw clean verify                                # make sure, everything works after the rebase
</code></pre></div>    </div>

    <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> You might need to fix conflicts / backport the commits for the older
PMD version.</div>
  </li>
  <li>
    <p>Update the release notes. See above for details.</p>
  </li>
  <li>
    <p>Now merge the pull request into the maintenance branch:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout pmd/5.8.x
git merge --no-ff pr-124
</code></pre></div>    </div>
  </li>
  <li>
    <p>Just to be sure, run the complete build again: <code class="highlighter-rouge">./mvnw clean verify</code>.</p>
  </li>
  <li>
    <p>If the build was successful, you are ready to push:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push origin pmd/5.8.x
</code></pre></div>    </div>
  </li>
  <li>
    <p>Since we have rebased the pull request, it won’t appear as merged on github.
You need to manually close the pull request. Leave a comment, that it has been
rebased onto the maintenance branch.</p>
  </li>
</ol>

<h4 id="merging-into-master">Merging into master</h4>

<p>Now the PR has been merged into the maintenance branch, but it is missing in any later version of PMD.
Therefore, we merge first into the next minor version maintenance branch (if existing):</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout pmd/5.9.x
git merge pmd/5.8.x
</code></pre></div></div>

<p>After that, we merge the changes into the master branch:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout master
git merge pmd/5.9.x
</code></pre></div></div>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> This ensures, that every change on the maintenance branch eventually ends
up in the master branch and therefore in any future version of PMD.<br />
The downside is however, that there are inevitable merge conflicts for the maven <code class="highlighter-rouge">pom.xml</code> files, since
every branch changed the version number differently.<br />
We could avoid this by merging only the temporary branch “pr-124” into each maintenance branch and
eventually into master, with the risk of missing single commits in a maintenance branch, that have been
done outside the temporary branch.</div>

<h4 id="merging-vs-cherry-picking">Merging vs. Cherry-Picking</h4>

<p>We are not using cherry-picking, so that each fix is represented by a single commit.
Cherry-picking would duplicate the commit and you can’t see in the log, on which branches the fix has been
integrated (e.g. gitk and github show the branches, from which the specific commit is reachable).</p>

<p>The downside is a more complex history - the maintenance branches and master branch are “connected” and not separate.</p>


    <div class="tags">
        
    </div>



</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2018 PMD Open Source Project. All rights reserved. <br />
<span>Page last updated:</span> August 2017<br/> Site last generated: Jan 21, 2018 <br />
<p><img src="images/pmd-logo-small.png" alt="Company logo"/></p>
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
    </div>

</body>

</html>
